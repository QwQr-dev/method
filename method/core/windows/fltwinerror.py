# coding = 'utf-8'

try:
    from win_cbasictypes import HRESULT
    from sdkddkver import NTDDI_VERSION, NTDDI_VISTA
except ImportError:
    from .win_cbasictypes import HRESULT
    from .sdkddkver import NTDDI_VERSION, NTDDI_VISTA

__IN__WINERROR_ = False  # Choose true or false

# fltwinerror.h

if NTDDI_VERSION < NTDDI_VISTA or __IN__WINERROR_:
    FACILITY_USERMODE_FILTER_MANAGER = 0x1f
    

    def FILTER_HRESULT_FROM_FLT_NTSTATUS(x: int) -> int:
        assert (x & 0xfff0000) == 0x001c0000
        return HRESULT((x & 0x8000ffff) | (FACILITY_USERMODE_FILTER_MANAGER << 16)).value


    ERROR_FLT_IO_COMPLETE			= HRESULT(0x001f0001).value
    ERROR_FLT_NO_HANDLER_DEFINED		= HRESULT(0x801f0001).value
    ERROR_FLT_CONTEXT_ALREADY_DEFINED	= HRESULT(0x801f0002).value
    ERROR_FLT_INVALID_ASYNCHRONOUS_REQUEST	= HRESULT(0x801f0003).value
    ERROR_FLT_DISALLOW_FAST_IO		= HRESULT(0x801f0004).value
    ERROR_FLT_INVALID_NAME_REQUEST		= HRESULT(0x801f0005).value
    ERROR_FLT_NOT_SAFE_TO_POST_OPERATION	= HRESULT(0x801f0006).value
    ERROR_FLT_NOT_INITIALIZED		= HRESULT(0x801f0007).value
    ERROR_FLT_FILTER_NOT_READY		= HRESULT(0x801f0008).value
    ERROR_FLT_POST_OPERATION_CLEANUP	= HRESULT(0x801f0009).value
    ERROR_FLT_INTERNAL_ERROR		= HRESULT(0x801f000a).value
    ERROR_FLT_DELETING_OBJECT		= HRESULT(0x801f000b).value
    ERROR_FLT_MUST_BE_NONPAGED_POOL		= HRESULT(0x801f000c).value
    ERROR_FLT_DUPLICATE_ENTRY		= HRESULT(0x801f000d).value
    ERROR_FLT_CBDQ_DISABLED			= HRESULT(0x801f000e).value
    ERROR_FLT_DO_NOT_ATTACH			= HRESULT(0x801f000f).value
    ERROR_FLT_DO_NOT_DETACH			= HRESULT(0x801f0010).value
    ERROR_FLT_INSTANCE_ALTITUDE_COLLISION	= HRESULT(0x801f0011).value
    ERROR_FLT_INSTANCE_NAME_COLLISION	= HRESULT(0x801f0012).value
    ERROR_FLT_FILTER_NOT_FOUND		= HRESULT(0x801f0013).value
    ERROR_FLT_VOLUME_NOT_FOUND		= HRESULT(0x801f0014).value
    ERROR_FLT_INSTANCE_NOT_FOUND		= HRESULT(0x801f0015).value
    ERROR_FLT_CONTEXT_ALLOCATION_NOT_FOUND	= HRESULT(0x801f0016).value
    ERROR_FLT_INVALID_CONTEXT_REGISTRATION	= HRESULT(0x801f0017).value
    ERROR_FLT_NAME_CACHE_MISS		= HRESULT(0x801f0018).value
    ERROR_FLT_NO_DEVICE_OBJECT		= HRESULT(0x801f0019).value
    ERROR_FLT_VOLUME_ALREADY_MOUNTED	= HRESULT(0x801f001a).value
    ERROR_FLT_ALREADY_ENLISTED		= HRESULT(0x801f001b).value
    ERROR_FLT_CONTEXT_ALREADY_LINKED	= HRESULT(0x801F001c).value
    ERROR_FLT_NO_WAITER_FOR_REPLY		= HRESULT(0x801f0020).value
    ERROR_FLT_REGISTRATION_BUSY		= HRESULT(0x801F0023).value
